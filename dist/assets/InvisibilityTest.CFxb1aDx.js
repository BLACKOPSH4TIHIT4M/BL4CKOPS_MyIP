import{u as A,d as S,r as y,k as n,p as t,y as i,z as e,v as u,s as b,x as T,E as D,U,K as V,T as C,l as c,C as a,F as j,A as M}from"./vendor.DHFmOzci.js";import{u as W,a as R}from"./utils/utils-auth.Cj4TPQPL.js";import{t as B}from"./utils/utils-analytics.BMWz_Cy8.js";import{_ as F}from"./index-CuWL2HxC.js";import"./utils/utils-getips.B2avacMe.js";import"./utils/utils-data.CC01m_V6.js";import"./speedtest.Cf2juqOf.js";const L={class:"invisibilitytest-section my-4"},$={class:"text-secondary"},q={class:"row"},H={class:"col-12 mb-3"},J={class:"card-body"},K={class:"col-12 col-md-auto mt-2"},O={class:"input-group mb-2 mt-3"},G={class:"input-group-text"},Q=["disabled"],X={for:"collectingDatas"},Y=["disabled"],Z={key:0},tt={key:1,class:"spinner-grow spinner-grow-sm","aria-hidden":"true"},it={key:0,class:"text-success mb-2 mt-3"},et={class:"jn-placeholder"},st={key:0,class:"text-danger"},lt={key:0,class:"alert alert-success",role:"alert"},nt={key:0},ct={key:1},ot={key:2},at={key:3},rt={key:0,class:"table-responsive text-nowrap"},ut={scope:"col"},vt={scope:"col"},dt={scope:"col"},pt={key:0,class:"opacity-75"},yt={key:1,class:"opacity-75"},bt={key:0,class:"opacity-75"},_t={key:1,class:"opacity-75"},gt={class:"jn-table-col"},ht={key:0,class:"opacity-75"},mt={key:1,class:"opacity-75"},xt={class:"jn-table-col"},kt={key:0,class:"opacity-75"},ft={key:1,class:"opacity-75"},St={class:"jn-table-col"},wt={key:0,class:"opacity-75"},Tt={key:1,class:"opacity-75"},Vt={key:0,class:"opacity-75"},Ct={key:1,class:"opacity-75"},It={key:0,class:"opacity-75"},zt={key:1,class:"opacity-75"},Nt={key:0,class:"opacity-75"},Pt={key:1,class:"opacity-75"},Et={key:0,class:"opacity-75"},At={key:1,class:"opacity-75"},Dt={key:0,class:"opacity-75"},Ut={key:1,class:"opacity-75"},jt={key:0,class:"opacity-75"},Mt={key:1,class:"opacity-75"},Wt={key:0,class:"opacity-75"},Rt={key:1,class:"opacity-75"},Bt={key:0,class:"opacity-75"},Ft={key:1,class:"opacity-75"},Lt={__name:"InvisibilityTest",setup($t){const{t:s}=A(),v=W(),w=S(()=>v.isDarkMode);S(()=>v.isMobile);const m=S(()=>v.isSignedIn),_=y("idle"),p=y(""),l=y({}),x=y(""),k=y(!1),g=y(0),I=()=>{const r=Date.now().toString(),o="jason5ng32",d=13,h=28-o.length-d,E=Math.random().toString(36).substring(2,2+h);return r.substring(0,d)+o+E},z=()=>{const r=document.createElement("script");r.src=`https://proxydetectjs.ipcheck.ing/?pdKey=undefined&pdVal=${x.value}`,r.async=!0,r.setAttribute("data-tag","invisibilityTestScript"),r.onload=()=>{},r.onerror=o=>{console.error("Script load error:",o)},document.head.appendChild(r)},N=()=>{document.querySelectorAll('script[data-tag="invisibilityTestScript"]').forEach(o=>o.remove())},P=()=>{_.value="running",x.value=I(),B("Section","StartClick","InvisibilityTest"),p.value="",l.value={},z(),m.value&&!v.userAchievements.JustInCase.achieved&&v.setTriggerUpdateAchievements("JustInCase"),setTimeout(()=>{f()},1e4)},f=async()=>{try{const o=await R(`/api/invisibility?id=${x.value}`);if(o.message==="Data not found"&&g.value<3){setTimeout(()=>{f(),g.value++},1e4);return}l.value=o;let d=Math.floor(l.value.score.proxy),h=Math.floor(l.value.score.vpn);m.value&&!v.userAchievements.HiddenWell.achieved&&d===0&&h===0&&v.setTriggerUpdateAchievements("HiddenWell"),m.value&&!v.userAchievements.SlipUp.achieved&&(d>50||h>50)&&v.setTriggerUpdateAchievements("SlipUp")}catch(r){if(console.error("Error fetching InvisibilityTest results:",r),r.message.includes("Invalid token")){p.value=s("user.InvalidUserToken");return}if(r.message.includes("Sign in required")){p.value=s("user.SignInToUse");return}if(g.value<3){setTimeout(()=>{f(),g.value++},8e3);return}else p.value=s("invisibilitytest.fetchError")}finally{N()}_.value="idle",g.value=0};return(r,o)=>(c(),n("div",L,[t("div",$,[t("p",null,i(e(s)("invisibilitytest.Note")),1)]),t("div",q,[t("div",H,[t("div",{class:u(["card jn-card",{"dark-mode dark-mode-border":w.value}])},[t("div",J,[t("div",K,[t("span",null,i(e(s)("invisibilitytest.Note2")),1)]),t("div",O,[t("div",G,[D(t("input",{class:"form-check-input mt-0",type:"checkbox",value:"","aria-label":"Checkbox for Collecting datas",name:"collectingDatas",id:"collectingDatas","onUpdate:modelValue":o[0]||(o[0]=d=>k.value=d),disabled:!e(v).user},null,8,Q),[[U,k.value]]),t("label",X," "+i(e(s)("invisibilitytest.agreement")),1)]),t("button",{class:"btn btn-primary",onClick:P,disabled:_.value==="running"||!k.value||!e(v).user},[_.value==="idle"?(c(),n("span",Z,i(e(s)("invisibilitytest.Run")),1)):b("",!0),_.value==="running"?(c(),n("span",tt)):b("",!0)],8,Y)]),e(v).user?b("",!0):(c(),n("div",it,i(e(s)("user.SignInToUse")),1)),t("div",et,[p.value?(c(),n("p",st,i(p.value),1)):b("",!0)]),T(C,{name:"jn-it-slide-fade"},{default:V(()=>[Object.keys(l.value).length>0&&e(v).user?(c(),n("div",lt,[t("p",null,[a(i(e(s)("invisibilitytest.yourIP"))+": ",1),t("strong",null,i(l.value.ip),1),o[1]||(o[1]=a(".",-1))]),t("p",null,[o[2]||(o[2]=t("i",{class:"bi bi-lock-fill"},null,-1)),a(" "+i(e(s)("invisibilitytest.proxyScore"))+": "+i(l.value.score.proxy)+"%. ",1)]),t("p",null,[o[3]||(o[3]=t("i",{class:"bi bi-shield-lock-fill"},null,-1)),a(" "+i(e(s)("invisibilitytest.VPNScore"))+": "+i(l.value.score.vpn)+"%. ",1)]),l.value.score.proxy>=50?(c(),n("span",nt,[t("strong",null,i(e(s)("invisibilitytest.isProxy"))+" ",1)])):(c(),n("span",ct,i(e(s)("invisibilitytest.notProxy"))+"  ",1)),l.value.score.vpn>=50?(c(),n("span",ot,[t("strong",null,i(e(s)("invisibilitytest.isVPN")),1)])):(c(),n("span",at,i(e(s)("invisibilitytest.notVPN")),1))])):b("",!0)]),_:1}),T(C,{name:"slide-fade"},{default:V(()=>[Object.keys(l.value).length>0&&e(v).user?(c(),n("div",rt,[t("table",{class:u(["table table-hover",{"table-dark":w.value}])},[t("thead",null,[t("tr",null,[t("th",ut,i(e(s)("invisibilitytest.itemName")),1),t("th",vt,i(e(s)("invisibilitytest.itemProxyResult")),1),t("th",dt,i(e(s)("invisibilitytest.itemComment")),1)])]),t("tbody",null,[t("tr",null,[t("td",null,i(e(s)("invisibilitytest.headers.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.headers.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.headers.proxy?(c(),n("span",pt,i(e(s)("invisibilitytest.headers.positive")),1)):(c(),n("span",yt,i(e(s)("invisibilitytest.headers.negative")),1))])]),t("tr",null,[t("td",null,i(e(s)("invisibilitytest.datacenter.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.datacenter.is_datacenter?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.datacenter.is_datacenter?(c(),n("span",bt,i(e(s)("invisibilitytest.datacenter.positive")),1)):(c(),n("span",_t,i(e(s)("invisibilitytest.datacenter.negative")),1))])]),t("tr",null,[t("td",gt,i(e(s)("invisibilitytest.blocklist.proxy.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.blocklist.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.blocklist.proxy?(c(),n("span",ht,i(e(s)("invisibilitytest.blocklist.proxy.positive")),1)):(c(),n("span",mt,i(e(s)("invisibilitytest.blocklist.proxy.negative")),1))])]),t("tr",null,[t("td",xt,i(e(s)("invisibilitytest.blocklist.vpn.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.blocklist.vpn?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.blocklist.vpn?(c(),n("span",kt,i(e(s)("invisibilitytest.blocklist.vpn.positive")),1)):(c(),n("span",ft,i(e(s)("invisibilitytest.blocklist.vpn.negative")),1))])]),t("tr",null,[t("td",St,i(e(s)("invisibilitytest.blocklist.vpnExitNode.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.blocklist.vpnExitNode?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.blocklist.vpnExitNode?(c(),n("span",wt,i(e(s)("invisibilitytest.blocklist.vpnExitNode.positive")),1)):(c(),n("span",Tt,i(e(s)("invisibilitytest.blocklist.vpnExitNode.negative")),1))])]),t("tr",null,[t("td",null,i(e(s)("invisibilitytest.tcp.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.tcp.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.tcp.proxy?(c(),n("span",Vt,[a(i(e(s)("invisibilitytest.tcp.positive"))+" ",1),o[4]||(o[4]=t("br",null,null,-1)),a(" "+i(e(s)("invisibilitytest.tcp.computer"))+" ",1),t("strong",null,i(l.value.tcp.clientos),1),a(". "+i(e(s)("invisibilitytest.tcp.server"))+" ",1),t("strong",null,i(l.value.tcp.ipos),1)])):(c(),n("span",Ct,i(e(s)("invisibilitytest.tcp.negative")),1))])]),t("tr",null,[t("td",null,i(e(s)("invisibilitytest.latencyVSPing.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.latency_vs_ping.vpn?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.latency_vs_ping.vpn?(c(),n("span",It,[a(i(e(s)("invisibilitytest.latencyVSPing.positive"))+" ",1),o[5]||(o[5]=t("br",null,null,-1)),a(" "+i(e(s)("invisibilitytest.latencyVSPing.fromTCP"))+" ",1),t("strong",null,i(l.value.latency_vs_ping.tcpTime)+"ms",1),a(", "+i(e(s)("invisibilitytest.latencyVSPing.fromPing"))+" ",1),t("strong",null,i(l.value.latency_vs_ping.pingTime)+"ms",1)])):(c(),n("span",zt,i(e(s)("invisibilitytest.latencyVSPing.negative")),1))])]),t("tr",null,[t("td",null,i(e(s)("invisibilitytest.latencyVSWS.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.latency_vs_ws.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.latency_vs_ws.proxy?(c(),n("span",Nt,[a(i(e(s)("invisibilitytest.latencyVSWS.positive"))+" ",1),o[6]||(o[6]=t("br",null,null,-1)),a(" "+i(e(s)("invisibilitytest.latencyVSWS.fromTCP"))+" ",1),t("strong",null,i(l.value.latency_vs_ws.tcpTime)+"ms",1),a(", "+i(e(s)("invisibilitytest.latencyVSWS.fromWS"))+" ",1),t("strong",null,i(l.value.latency_vs_ws.wsTime)+"ms",1)])):(c(),n("span",Pt,i(e(s)("invisibilitytest.latencyVSWS.negative")),1))])]),t("tr",null,[t("td",null,i(e(s)("invisibilitytest.timezone.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.timezone.proxy||l.value.timezone.vpn?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.timezone.proxy||l.value.timezone.vpn?(c(),n("span",Et,[a(i(e(s)("invisibilitytest.timezone.positive"))+" ",1),o[7]||(o[7]=t("br",null,null,-1)),a(" "+i(e(s)("invisibilitytest.timezone.computer"))+" ",1),t("strong",null,i(l.value.timezone.clienttimezone),1),a(". "+i(e(s)("invisibilitytest.timezone.server"))+" ",1),t("strong",null,i(l.value.timezone.iptimezone),1)])):(c(),n("span",At,i(e(s)("invisibilitytest.timezone.negative")),1))])]),t("tr",null,[t("td",null,i(e(s)("invisibilitytest.net.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.net.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.net.proxy?(c(),n("span",Dt,i(e(s)("invisibilitytest.net.positive")),1)):(c(),n("span",Ut,i(e(s)("invisibilitytest.net.negative")),1))])]),t("tr",null,[t("td",null,i(e(s)("invisibilitytest.webrtc.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.webrtc.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.webrtc.proxy?(c(),n("span",jt,[a(i(e(s)("invisibilitytest.webrtc.positive"))+" ",1),o[9]||(o[9]=t("br",null,null,-1)),a(" "+i(e(s)("invisibilitytest.webrtc.ipsAre"))+" ",1),(c(!0),n(j,null,M(l.value.webrtc.allips,d=>(c(),n("span",{key:d},[t("strong",null,i(d),1),o[8]||(o[8]=a(", ",-1))]))),128)),t("strong",null,i(l.value.webrtc.ip),1)])):(c(),n("span",Mt,i(e(s)("invisibilitytest.webrtc.negative")),1))])]),t("tr",null,[t("td",null,i(e(s)("invisibilitytest.flow.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.flow.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.flow.proxy?(c(),n("span",Wt,i(e(s)("invisibilitytest.flow.positive")),1)):(c(),n("span",Rt,i(e(s)("invisibilitytest.flow.negative")),1))])]),t("tr",null,[t("td",null,i(e(s)("invisibilitytest.highlatency.title")),1),t("td",null,[t("i",{class:u(["bi",l.value.highlatency.proxy?"bi-x-circle-fill text-danger":"bi-check-circle-fill text-success"])},null,2)]),t("td",null,[l.value.highlatency.proxy?(c(),n("span",Bt,i(e(s)("invisibilitytest.highlatency.positive")),1)):(c(),n("span",Ft,i(e(s)("invisibilitytest.highlatency.negative")),1))])])])],2)])):b("",!0)]),_:1})])],2)])])]))}},Xt=F(Lt,[["__scopeId","data-v-2b67c464"]]);export{Xt as default};
