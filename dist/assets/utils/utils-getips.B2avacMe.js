function c(r){const e=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,n=/^(([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4})|(([0-9a-fA-F]{1,4}:){0,6}([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:){0,6}([0-9a-fA-F]{1,4})?))$/;return e.test(r)||n.test(r)}function C(r,e,n,o){if(r.error)throw new Error(r.reason);const t={country_name:r.country_name||"",country_code:r.country==="N/A"?"":r.country,region:r.region||"",city:r.city||"",latitude:r.latitude||"",longitude:r.longitude||"",isp:r.org||"",asn:r.asn||"",asnlink:r.asn&&r.asn.startsWith("AS")?`https://bgp.tools/as/${r.asn}`:!1,mapUrl:r.latitude&&r.longitude?`/api/map?latitude=${r.latitude}&longitude=${r.longitude}&language=${o}`:"",mapUrl_dark:r.latitude&&r.longitude?`/api/map?latitude=${r.latitude}&longitude=${r.longitude}&language=${o}&CanvasMode=Dark`:""};if(e===0){const s=f(r.advancedData,n);return{...t,...s}}return t}function f(r={},e){const n=I(r,e),o=P(r,e),t=r.score==="sign_in_required"?"sign_in_required":r.score,s=h(r,e),i=r.proxyProvider||"",a=r.tags==="sign_in_required"?"sign_in_required":r.tags.isNative;return{isProxy:n,type:o,qualityScore:t,proxyProtocol:s,proxyOperator:i,isNativeIP:a}}function I(r,e){return r.tags==="sign_in_required"?"sign_in_required":r.tags.isProxyOrVPN&&r.proxyProtocol!=="unknown"?e("ipInfos.advancedData.proxyYes"):r.tags.isProxyOrVPN?e("ipInfos.advancedData.proxyMaybe"):r.tags.isProxyOrVPN?e("ipInfos.advancedData.proxyUnknown"):e("ipInfos.advancedData.proxyNo")}function P(r,e){switch(r.operatorType){case"Business":return e("ipInfos.advancedData.type.Business");case"Residential":return e("ipInfos.advancedData.type.Residential");case"Wireless":return e("ipInfos.advancedData.type.Wireless");case"Hosting":return e("ipInfos.advancedData.type.Hosting");case"VPN":if(r.proxyProtocol==="unknown")return e("ipInfos.advancedData.type.Hosting");default:return r.operatorType||e("ipInfos.advancedData.type.unknownType")}}function h(r,e){return r.proxyProtocol==="unknown"||!r.proxyProtocol?e("ipInfos.advancedData.proxyUnknownProtocol"):r.proxyProtocol}const g=async()=>{try{const o=(await(await fetch("https://cf-ns.com/cdn-cgi/trace")).text()).split(`
`).find(i=>i.startsWith("ip="));let t="";o&&(t=o.split("=")[1]);const s="CF-CN";return c(t)?{ip:t,source:s}:{ip:null,source:s}}catch(r){return console.error("Error fetching IP from Cloudflare:",r),{ip:null,source:"CF-CN"}}},d=async()=>{try{const o=`https://pubstatic.b0.upaiyun.com/?_upnode&t=${Date.now()}`,t=await fetch(o);if(!t.ok)throw new Error("Network response was not ok");const i=(await t.json()).remote_addr,a="Upai";if(c(i))return{ip:i,source:a};console.error("Invalid IP from Upai:",i)}catch(n){console.error("Error fetching IP from Upai:",n)}const{ip:r,source:e}=await g();return{ip:r,source:e}},x=async()=>{try{const t=(await(await fetch("https://myip.ipip.net/json")).json()).data.ip,s="IPIP.net";if(c(t))return{ip:t,source:s};console.error("Invalid IP from IPIP.net:",t)}catch(n){console.error("Error fetching IP from IPIP.net:",n)}const{ip:r,source:e}=await d();return{ip:r,source:e}},_=async()=>{try{const o=(await(await fetch("https://1.0.0.1/cdn-cgi/trace")).text()).split(`
`).find(i=>i.startsWith("ip="));let t="";o&&(t=o.split("=")[1]);const s="Cloudflare IPv4";return c(t)?{ip:t,source:s}:(console.error("Invalid IP from Cloudflare:",t),{ip:null,source:s})}catch(r){return console.error("Error fetching IP from Cloudflare:",r),{ip:null,source:"Cloudflare IPv4"}}},F=async()=>{try{const o=(await(await fetch("https://[2606:4700:4700::1111]/cdn-cgi/trace")).text()).split(`
`).find(i=>i.startsWith("ip="));let t="";o&&(t=o.split("=")[1]);const s="Cloudflare IPv6";return c(t)?{ip:t,source:s}:(console.error("Invalid IP from Cloudflare:",t),{ip:null,source:s})}catch(r){return console.error("Error fetching IP from Cloudflare:",r),{ip:null,source:"Cloudflare IPv6"}}},E=async r=>{try{let e;r?e=await y():e=await p();const n="IPCheck.ing IPv6/4";return c(e)?{ip:e,source:n}:(console.error("Invalid IP from IPCheck.ing IPv6/4:",e),{ip:null,source:n})}catch(e){return console.error("Error fetching IP from IPCheck.ing IPv6/4:",e),{ip:null,source:"IPCheck.ing IPv6/4"}}},y=async()=>{try{const r=await fetch("https://64.ipcheck.ing");if(!r.ok)throw new Error("Network response was not ok");return(await r.json()).ip}catch(r){console.error("Error fetching IP from IPCheck.ing IPv6 JSON:",r)}return p()},p=async()=>{try{const o=(await(await fetch("https://64.ipcheck.ing/cdn-cgi/trace")).text()).split(`
`).find(s=>s.startsWith("ip="));let t="";return o&&(t=o.split("=")[1]),t}catch(r){throw console.error("Error fetching IP from IPCheck.ing IPv6 Trace:",r),r}},w=async()=>{try{const r=await fetch("https://api4.ipify.org?format=json");if(!r.ok)throw new Error("Network response was not ok");const n=(await r.json()).ip,o="IPify IPv4";return c(n)?{ip:n,source:o}:(console.error("Invalid IP from IPify:",n),{ip:null,source:o})}catch(r){return console.error("Error fetching IPv4 address from ipify:",r),{ip:null,source:"IPify IPv4"}}},N=async r=>{try{let o;r?o=await m():o=await l();const t="IPCheck.ing IPv4";return c(o)?{ip:o,source:t}:(console.error("Invalid IP from IPCheck.ing IPv4:",o),{ip:null,source:t})}catch(o){console.error("Error fetching IP from IPCheck.ing IPv4:",o)}const{ip:e,source:n}=await w();return{ip:e,source:n}},m=async()=>{try{const r=await fetch("https://4.ipcheck.ing");if(!r.ok)throw new Error("Network response was not ok");return(await r.json()).ip}catch(r){console.error("Error fetching IP from IPCheck.ing IPv4 JSON:",r)}return l()},l=async()=>{try{const o=(await(await fetch("https://4.ipcheck.ing/cdn-cgi/trace")).text()).split(`
`).find(s=>s.startsWith("ip="));let t="";return o&&(t=o.split("=")[1]),t}catch(r){throw console.error("Error fetching IP from IPCheck.ing IPv4 Trace:",r),r}},k=async()=>{try{const r=await fetch("https://api6.ipify.org?format=json");if(!r.ok)throw new Error("Network response was not ok");const n=(await r.json()).ip,o="IPify IPv6";return c(n)?{ip:n,source:o}:(console.error("Invalid IP from IPify:",n),{ip:null,source:o})}catch(r){return console.error("Error fetching IPv6 address from ipify:",r),{ip:null,source:"IPify IPv6"}}},$=async r=>{try{let o;r?o=await v():o=await u();const t="IPCheck.ing IPv6";return c(o)?{ip:o,source:t}:(console.error("Invalid IP from IPCheck.ing IPv6:",o),{ip:null,source:t})}catch(o){console.error("Error fetching IP from IPCheck.ing IPv6:",o)}const{ip:e,source:n}=await k();return{ip:e,source:n}},v=async()=>{try{const r=await fetch("https://6.ipcheck.ing");if(!r.ok)throw new Error("Network response was not ok");return(await r.json()).ip}catch(r){console.error("Error fetching IP from IPCheck.ing IPv6 JSON:",r)}return u()},u=async()=>{try{const o=(await(await fetch("https://6.ipcheck.ing/cdn-cgi/trace")).text()).split(`
`).find(s=>s.startsWith("ip="));let t="";return o&&(t=o.split("=")[1]),t}catch(r){throw console.error("Error fetching IP from IPCheck.ing IPv6 Trace:",r),r}};function U(r){const e={};return e.ipv4="8.8.8.8",e.ipv6="2001:4860:4860::8888",e.dnsendpoints="12.34.56.78",e.webrtcip="100.100.200.100",e.country_name="United States",e.country_code="US",e.region="California",e.city="Mountain View",e.latitude="37.40599",e.longitude="-122.078514",e.isp="Google LLC",e.asn="AS888888",e.asnlink="https://bgp.tools/as/AS15169",e.mapUrl="/res/defaultMap.webp",e.mapUrl_dark="/res/defaultMap_dark.webp",e.showASNInfo=!1,e.isProxy=r("ipInfos.advancedData.proxyNo"),e.type=r("ipInfos.advancedData.type.Business"),e.isNativeIP=!0,e.qualityScore=100,e.proxyProtocol=r("ipInfos.advancedData.proxyUnknownProtocol"),e.proxyOperator="unknown",e}export{N as a,$ as b,x as c,_ as d,F as e,E as g,c as i,U as m,C as t};
